<!DOCTYPE html>
<html lang="en" data-theme="coffee">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chaotic Balls Simulation</title>
    <!-- Tailwind CSS and DaisyUI -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        #simulation-container {
            position: relative;
            overflow: hidden;
            width: 100%;
            height: 70vh;
            margin: 0 auto;
            border-radius: 14px;
            border: 2px solid rgb(250, 186, 114);

        }

        .ball {
            position: absolute;
            border-radius: 50%;
            /* background-color: blue; */
            transition: background-color 0.3s;
        }
    </style>
</head>
<body class="bg-primary-200">
    <div class="container mx-auto p-8">
        <h1 class="text-3xl font-bold mb-6 text-center">Chaotic Balls Simulation</h1>

        <div class="flex justify-center gap-4 mb-6">
            <input id="ball-count" type="number" placeholder="Number of Balls" class="input input-bordered input-primary w-full max-w-xs" min="1">
            <input id="ball-radius" type="number" placeholder="Ball Radius" class="input input-bordered input-primary w-full max-w-xs" min="5">
            
            <div class="flex flex-col items-center">
                <label for="ball-speed" class="mb-2">Ball Speed</label>
                <input id="ball-speed" type="range" min="1" max="10" value="3" class="range range-primary w-full max-w-xs">
            </div>

            <button id="start-simulation" class="btn btn-primary">Start Simulation</button>
        </div>

        <div class="flex justify-center gap-4 mb-6">
            <button id="play-simulation" class="btn btn-success">Play</button>
            <button id="pause-simulation" class="btn btn-warning">Pause</button>
        </div>

        <div class="bg-primary-200" id="simulation-container"></div>
    </div>

    <script>
        // Variables
        const container = document.getElementById('simulation-container');
        const startButton = document.getElementById('start-simulation');
        const playButton = document.getElementById('play-simulation');
        const pauseButton = document.getElementById('pause-simulation');
        const ballCountInput = document.getElementById('ball-count');
        const ballRadiusInput = document.getElementById('ball-radius');
        const ballSpeedInput = document.getElementById('ball-speed');
        const colors = ['#257180', '#F2E5BF', '#FD8B51', '#EDDFE0', '#C96868', '#BEC6A0','#EE66A6','#8FD14F','#7695FF','#FFEB00'];

        // Ball class to represent each ball
        class Ball {
            constructor(radius, speed) {
                this.radius = radius;
                this.speed = speed;
                this.x = Math.random() * (container.clientWidth - 2 * radius);
                this.y = Math.random() * (container.clientHeight - 2 * radius);
                this.vx = (Math.random() - 0.5) * this.speed * 2; // Random velocity X scaled by speed
                this.vy = (Math.random() - 0.5) * this.speed * 2; // Random velocity Y scaled by speed
                this.element = document.createElement('div');
                this.element.className = 'ball';
                this.element.style.width = `${2 * radius}px`;
                this.element.style.height = `${2 * radius}px`;
                this.element.style.top = `${this.y}px`;
                this.element.style.left = `${this.x}px`;
                container.appendChild(this.element);
            }

            move() {
                // Update ball position based on velocity
                this.x += this.vx;
                this.y += this.vy;

                // Check for collisions with walls and reverse direction
                if (this.x <= 0 || this.x >= container.clientWidth - 2 * this.radius) {
                    this.vx *= -1;
                    this.changeColor();
                }
                if (this.y <= 0 || this.y >= container.clientHeight - 2 * this.radius) {
                    this.vy *= -1;
                    this.changeColor();
                }

                // Update ball element position
                this.element.style.left = `${this.x}px`;
                this.element.style.top = `${this.y}px`;
            }

            changeColor() {
                // Change the ball color to a random one from the colors array
                const randomColor = colors[Math.floor(Math.random() * colors.length)];
                this.element.style.backgroundColor = randomColor;
            }
        }

        // Array to store ball objects
        let balls = [];
        let animationFrameId;
        let isPaused = false;

        // Function to start the simulation
        function startSimulation() {
            const ballCount = parseInt(ballCountInput.value) || 0;
            const ballRadius = parseInt(ballRadiusInput.value) || 10;
            const ballSpeed = parseInt(ballSpeedInput.value) || 3;

            // Clear previous balls from the container
            container.innerHTML = '';
            balls = [];

            // Create and add balls to the simulation
            for (let i = 0; i < ballCount; i++) {
                const ball = new Ball(ballRadius, ballSpeed);
                balls.push(ball);
            }

            // Start the animation loop
            isPaused = false;
            animateBalls();
        }

        // Function to animate balls
        function animateBalls() {
            if (!isPaused) {
                balls.forEach(ball => ball.move());
                animationFrameId = requestAnimationFrame(animateBalls);
            }
        }

        // Play the simulation
        function playSimulation() {
            if (isPaused) {
                isPaused = false;
                animateBalls();
            }
        }

        // Pause the simulation
        function pauseSimulation() {
            isPaused = true;
            cancelAnimationFrame(animationFrameId);
        }

        // Start simulation on button click
        startButton.addEventListener('click', startSimulation);
        playButton.addEventListener('click', playSimulation);
        pauseButton.addEventListener('click', pauseSimulation);

        // Update ball speed dynamically using the speed slider
        ballSpeedInput.addEventListener('input', (e) => {
            const newSpeed = parseInt(e.target.value);
            balls.forEach(ball => {
                ball.vx = (Math.random() - 0.5) * newSpeed * 2;
                ball.vy = (Math.random() - 0.5) * newSpeed * 2;
                ball.speed = newSpeed;
            });
        });
    </script>
</body>
</html>
